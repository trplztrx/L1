## Чем отличаются RWMutex от Mutex?

### 1. **Mutex (мьютекс)**

`Mutex` — это стандартный мьютекс, который предоставляет доступ только одной горутине в конкретный момент времени. Он позволяет **полностью блокировать ресурс** для записи и чтения, так что к нему может одновременно обращаться только один поток. Mutex имеет два основных метода:

- `Lock()`: захватывает мьютекс и блокирует доступ к разделяемым данным.
- `Unlock()`: освобождает мьютекс, разблокируя доступ.

Mutex чаще всего используется, когда данные изменяются или требуется гарантия строгой последовательности операций. Однако при множестве конкурентных потоков, которые в основном **читают данные**, такой подход может привести к значительным задержкам, так как каждый поток будет ожидать своей очереди для доступа к данным, даже если требуется лишь чтение.

### 2. **RWMutex (читательско-писательская блокировка)**

`RWMutex` (read-write mutex) — это расширение мьютекса, позволяющее разделить доступ к ресурсу на **блокировки для чтения и блокировки для записи**. С его помощью можно значительно увеличить производительность программы в случаях, когда доступ к данным в основном предполагает чтение, а не запись. 

RWMutex предоставляет два типа блокировок:

- `RLock()`: захватывает блокировку для чтения (read lock). Это позволяет **множественным горутинам** одновременно читать данные. Пока блокировка для чтения активна, блокировка для записи невозможна.
- `RUnlock()`: освобождает блокировку для чтения.
- `Lock()`: захватывает блокировку для записи (write lock), блокируя доступ для любых других горутин (как на чтение, так и на запись).
- `Unlock()`: освобождает блокировку для записи.

### Когда использовать RWMutex и Mutex

- **Используйте `Mutex`**, если операции над данными в основном требуют записи и меньше зависят от частого параллельного чтения. Это предотвращает сложность от блокировок, и к тому же, стандартный `Mutex` немного легче в плане производительности.
  
- **Используйте `RWMutex`**, если ваш код в основном читает данные, и требуется высокая производительность при множественном параллельном доступе к этим данным. `RWMutex` повышает производительность, позволяя множественным потокам читать данные одновременно, но при этом ограничивает запись, чтобы избежать конфликтов.

